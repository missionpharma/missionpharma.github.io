(function(h,c){var a=f();var d=false;var m=false;var p=false;var l=false;var g=Object;g.hidden="hidden";g.pre="hh_";g.input="dropdown";g.menu="dropdown";g.active="selected";g.search="search";g.placeholder="Filter";g.offset_top=0;g.offset_left=0;g.callback=false;var j='<input id="%id%" class="%class%" name="%name%" type="text" value="%val%" readonly="readonly" tabindex="%tab%"/>';var q='<div id="%id%"><input id="%search%" type="text" value="%text%" autocomplete="off" tabindex="%tab%" /><ul>%options%</ul></div>';var i='<li class="%class%">%text%</li>';function f(){if(navigator.userAgent.match(/BlackBerry/)||navigator.userAgent.match(/Opera Mini/)||navigator.userAgent.match(/Android.*AppleWebKit.*Safari/)||navigator.userAgent.match(/AppleWebKit.*Mobile.*Safari/)||navigator.userAgent.match(/AppleWebKit.*Mobile.*Safari/)||navigator.userAgent.match(/Windows Phone/)||navigator.userAgent.match(/Mobile/)){return true}return false}function e(u,t,r){for(var s=0;s<t.length;s++){u=u.replace(t[s],r[s])}return u}h.fn.dropdown=function(r){if(a){return}var s=h.extend({},g,r);if(!p){p=true;h("input").on("focus",function(){if(d!=false){k()}});h("body").on("click",function(){if(d!=false&&l==false){k()}}).on("keydown",function(t){if(d==false){return}if(t.keyCode==38){b(true);return false}else{if(t.keyCode==40){b(false);return false}else{if(t.keyCode==13){h("#"+m.search).focus();k();return false}else{if(t.keyCode==9){return}}}}h("#"+m.search).focus()})}return this.each(function(){if(h(this)[0].tagName=="SELECT"){n(this,s)}})};function n(s,w){h(s).addClass(w.hidden);var x=Array("%id%","%class%","%name%","%val%","%tab%");var u=Array(w.pre+s.id,w.input,w.pre+s.name,h(s).find(":selected").text(),s.tabIndex);h(e(j,x,u)).insertAfter(h(s));var t=h("#"+w.pre+s.id);h(s).on("change",function(){t.val(h(s).find(":selected").text())});t.on("click",function(){return false}).on("focus",function(){o(s,t,w)})}function o(A,z,t){if(d!=false){k()}d=A;m=t;var C="";h(A).find("option").each(function(){var r="";if(h(this).val()==h(A).val()){r=t.active}C+=e(i,Array("%class%","%text%"),Array(r,h(this).text()))});var s=new Array("%id%","%search%","%options%","%tab%","%text%");var B=new Array(t.menu,t.search,C,A.tabIndex+1,t.placeholder);h(e(q,s,B)).insertAfter(h(A).parent());var u=z.parent().offset();var x=z.parent().offsetParent().offset();t.top=0;t.left=(u.left-x.left)+t.offset_left;t.width=z.innerWidth()+2;var y=(h("#"+t.menu+" ."+t.active).index()-1)*h("#"+t.menu+" ."+t.active).outerHeight(true)-1;h("#"+t.menu).css({top:t.top,left:t.left,width:t.width}).find("ul").scrollTop(y);h("#"+t.menu).on("mouseout",function(){l=false}).on("mouseover",function(){l=true}).find("li").on("click",function(){h("#"+t.menu).find("li").removeClass(t.active);h(this).addClass(t.active);if(d!=false){k()}});h("#"+t.search).on("keyup",function(r){if(r.keyCode==9||r.keyCode==16||r.keyCode==38||r.keyCode==40){return}var v=h(this).val().toLowerCase();h("#"+t.menu).find("li").each(function(){if(h(this).text().toLowerCase().indexOf(v)==-1){h(this).addClass(t.hidden)}else{h(this).removeClass(t.hidden)}})}).on("focus",function(r){if(h(this).val()==t.placeholder){h(this).val("")}});try{t.callback()}catch(w){}}function b(s){var u=0;var t=Array();h("#"+m.menu).find("li").each(function(v){if(!h(this).hasClass(m.hidden)){t.push(v);if(h(this).hasClass(m.active)){u=t.length-1}}});if(s&&u>0){u--}else{if(!s&&u<t.length-1){u++}else{return}}h("#"+m.menu).find("li").removeClass(m.active);h("#"+m.menu).find("li").eq(t[u]).addClass(m.active);var r=(u-1)*h("#"+m.menu+" ."+m.active).outerHeight(true)-1;h("#"+m.menu).find("ul").scrollTop(r)}function k(){if(!d){return}var r=null;h("#"+m.menu).find("li").each(function(s){if(!h(this).hasClass(m.hidden)){if(r==null||h(this).hasClass(m.active)){r=s}}});if(r!=null){h(d).find("option").removeAttr("selected");h(d).find("option").eq(r).attr("selected","selected");h(d).change()}h("#"+m.menu).remove();d=false;m=false;l=false}})(jQuery);